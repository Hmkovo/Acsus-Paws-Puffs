# Changelog

所有重要的项目变更都会记录在这个文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [Semantic Versioning](https://semver.org/lang/zh-CN/)。

---

## [Unreleased] - 开发中

### Added（新增）
- 可视化编辑器：设置页面框架
- 可视化编辑器：7文件架构完整搭建

### Changed（变更）
- 日志系统：改为统一开关 ENABLE_LOGGING

### Fixed（修复）
- 

---

## [2.0.0] - 2025-10-05

### Added（新增）
- ✨ 字体管理器：支持添加、删除、应用字体
- ✨ 字体管理器：支持标签分类和搜索
- ✨ 字体管理器：支持导入导出配置
- ✨ 预设管理器：预设收纳功能（文件夹图标）
- ✨ 预设管理器：世界书工具（独立条目管理）
- ✨ 世界书工具：关键词匹配和常驻模式
- ✨ 世界书工具：深度控制和提示词注入
- 📝 统一日志系统（logger.js）
- 📝 完整的项目文档体系

### Changed（变更）
- 🔄 重构：从旧版本完全重写，架构更清晰
- 🔄 UI：改用手风琴交互设计
- 🔄 样式：统一使用 ST 主题颜色
- 🔄 预设收纳：利用官方星号图标位置

### Fixed（修复）
- 🐛 修复：预设收纳的图标状态更新问题
- 🐛 修复：世界书条目在 ST 重新渲染后丢失
- 🐛 修复：MutationObserver 死循环导致控制台刷屏
- 🐛 修复：滚动条 hover 冲突（兼容 ST 1.12）

### Removed（移除）
- 🗑️ 移除：拖拽收纳功能（与 ST 原生冲突）
- 🗑️ 移除：所有黑色背景（改用主题颜色混合）

---

## [1.x.x] - 旧版本

旧版本的历史记录已归档到 `旧扩展 - 未重构 - 参考用/` 目录。

---

## 版本号说明

格式：`主版本.次版本.修订号`

- **主版本**：重大架构变更或不兼容的 API 修改
- **次版本**：新增功能，向下兼容
- **修订号**：bug 修复，向下兼容

示例：
- `2.0.0` → 完全重构，架构变更
- `2.1.0` → 新增功能（如可视化编辑器）
- `2.1.1` → 修复 bug

---

## 变更类型说明

- **Added（新增）**：新功能
- **Changed（变更）**：现有功能的变化
- **Deprecated（弃用）**：即将移除的功能
- **Removed（移除）**：已移除的功能
- **Fixed（修复）**：bug 修复
- **Security（安全）**：安全漏洞修复

---

**维护者：** 白沉 ＆ 溯  
**最后更新：** 2025-10-05
